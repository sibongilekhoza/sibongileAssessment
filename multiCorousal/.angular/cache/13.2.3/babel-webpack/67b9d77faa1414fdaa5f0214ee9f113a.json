{"ast":null,"code":"import { InjectionToken, Directive, TemplateRef, EventEmitter, Component, ChangeDetectionStrategy, ChangeDetectorRef, ContentChild, ViewChild, Input, Output, HostBinding, ContentChildren, NgModule } from '@angular/core';\nimport { startWith, switchMap } from 'rxjs/operators';\nimport { Subject, merge } from 'rxjs';\nimport { MdbCollapseDirective, MdbCollapseModule } from 'mdb-angular-ui-kit/collapse';\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\nimport { CommonModule } from '@angular/common';\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/common';\nimport * as ɵngcc2 from 'mdb-angular-ui-kit/collapse';\n\nfunction MdbAccordionItemComponent_3_ng_template_0_Template(rf, ctx) {}\n\nfunction MdbAccordionItemComponent_3_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, MdbAccordionItemComponent_3_ng_template_0_Template, 0, 0, \"ng-template\", 5);\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r0._headerTemplate);\n  }\n}\n\nfunction MdbAccordionItemComponent_6_ng_template_0_Template(rf, ctx) {}\n\nfunction MdbAccordionItemComponent_6_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, MdbAccordionItemComponent_6_ng_template_0_Template, 0, 0, \"ng-template\", 5);\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r1._bodyTemplate);\n  }\n}\n\nconst _c0 = [\"*\"];\nconst MDB_ACCORDION_ITEM_BODY = new InjectionToken('MdbAccordionItemBodyDirective');\nlet MdbAccordionItemBodyDirective = /*#__PURE__*/(() => {\n  class MdbAccordionItemBodyDirective {\n    constructor(template) {\n      this.template = template;\n    }\n\n  }\n\n  MdbAccordionItemBodyDirective.ɵfac = function MdbAccordionItemBodyDirective_Factory(t) {\n    return new (t || MdbAccordionItemBodyDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.TemplateRef));\n  };\n\n  MdbAccordionItemBodyDirective.ɵdir = /*@__PURE__*/ɵngcc0.ɵɵdefineDirective({\n    type: MdbAccordionItemBodyDirective,\n    selectors: [[\"\", \"mdbAccordionItemBody\", \"\"]],\n    features: [ɵngcc0.ɵɵProvidersFeature([{\n      provide: MDB_ACCORDION_ITEM_BODY,\n      useExisting: MdbAccordionItemBodyDirective\n    }])]\n  });\n  return MdbAccordionItemBodyDirective;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\nconst MDB_ACCORDION_ITEM_HEADER = new InjectionToken('MdbAccordionItemHeaderDirective');\nlet MdbAccordionItemHeaderDirective = /*#__PURE__*/(() => {\n  class MdbAccordionItemHeaderDirective {\n    constructor(template) {\n      this.template = template;\n    }\n\n  }\n\n  MdbAccordionItemHeaderDirective.ɵfac = function MdbAccordionItemHeaderDirective_Factory(t) {\n    return new (t || MdbAccordionItemHeaderDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.TemplateRef));\n  };\n\n  MdbAccordionItemHeaderDirective.ɵdir = /*@__PURE__*/ɵngcc0.ɵɵdefineDirective({\n    type: MdbAccordionItemHeaderDirective,\n    selectors: [[\"\", \"mdbAccordionItemHeader\", \"\"]],\n    features: [ɵngcc0.ɵɵProvidersFeature([{\n      provide: MDB_ACCORDION_ITEM_HEADER,\n      useExisting: MdbAccordionItemHeaderDirective\n    }])]\n  });\n  return MdbAccordionItemHeaderDirective;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\nlet uniqueHeaderId = 0;\nlet uniqueId = 0;\nlet MdbAccordionItemComponent = /*#__PURE__*/(() => {\n  class MdbAccordionItemComponent {\n    constructor(_cdRef) {\n      this._cdRef = _cdRef;\n      this.id = `mdb-accordion-item-${uniqueId++}`;\n      this._headerId = `mdb-accordion-item-header-${uniqueHeaderId++}`;\n      this._isInitialized = false;\n      this._shouldOpenOnInit = false;\n      this.itemShow = new EventEmitter();\n      this.itemShown = new EventEmitter();\n      this.itemHide = new EventEmitter();\n      this.itemHidden = new EventEmitter();\n      this.accordionItem = true;\n      this.show$ = new Subject();\n      this._collapsed = true;\n      this._addCollapsedClass = true;\n    }\n\n    set collapsed(value) {\n      if (!this._isInitialized) {\n        if (!value) {\n          this._shouldOpenOnInit = true;\n        }\n\n        return;\n      }\n\n      if (value) {\n        this.hide();\n      } else {\n        this.show();\n      }\n    }\n\n    ngOnInit() {\n      this._isInitialized = true;\n\n      if (this._shouldOpenOnInit) {\n        this.show();\n      }\n    }\n\n    toggle() {\n      this.collapse.toggle();\n    }\n\n    show() {\n      this.collapse.show();\n\n      this._cdRef.markForCheck();\n    }\n\n    hide() {\n      this.collapse.hide();\n\n      this._cdRef.markForCheck();\n    }\n\n    onShow() {\n      this._addCollapsedClass = false;\n      this.itemShow.emit(this);\n      this.show$.next(this);\n    }\n\n    onHide() {\n      this._addCollapsedClass = true;\n      this.itemHide.emit(this);\n    }\n\n    onShown() {\n      this._collapsed = false;\n      this.itemShown.emit(this);\n    }\n\n    onHidden() {\n      this._collapsed = true;\n      this.itemHidden.emit(this);\n    }\n\n  }\n\n  MdbAccordionItemComponent.ɵfac = function MdbAccordionItemComponent_Factory(t) {\n    return new (t || MdbAccordionItemComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef));\n  };\n\n  MdbAccordionItemComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: MdbAccordionItemComponent,\n    selectors: [[\"mdb-accordion-item\"]],\n    contentQueries: function MdbAccordionItemComponent_ContentQueries(rf, ctx, dirIndex) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵcontentQuery(dirIndex, MDB_ACCORDION_ITEM_HEADER, 7, TemplateRef);\n        ɵngcc0.ɵɵcontentQuery(dirIndex, MDB_ACCORDION_ITEM_BODY, 7, TemplateRef);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx._headerTemplate = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx._bodyTemplate = _t.first);\n      }\n    },\n    viewQuery: function MdbAccordionItemComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(MdbCollapseDirective, 7);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.collapse = _t.first);\n      }\n    },\n    hostVars: 2,\n    hostBindings: function MdbAccordionItemComponent_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        ɵngcc0.ɵɵclassProp(\"accordion-item\", ctx.accordionItem);\n      }\n    },\n    inputs: {\n      id: \"id\",\n      collapsed: \"collapsed\",\n      header: \"header\"\n    },\n    outputs: {\n      itemShow: \"itemShow\",\n      itemShown: \"itemShown\",\n      itemHide: \"itemHide\",\n      itemHidden: \"itemHidden\"\n    },\n    decls: 7,\n    vars: 10,\n    consts: [[1, \"accordion-header\", 3, \"id\"], [\"type\", \"button\", 1, \"accordion-button\", 3, \"click\"], [4, \"ngIf\"], [\"mdbCollapse\", \"\", 3, \"collapseShow\", \"collapseHide\"], [1, \"accordion-body\"], [3, \"ngTemplateOutlet\"]],\n    template: function MdbAccordionItemComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"h2\", 0);\n        ɵngcc0.ɵɵelementStart(1, \"button\", 1);\n        ɵngcc0.ɵɵlistener(\"click\", function MdbAccordionItemComponent_Template_button_click_1_listener() {\n          return ctx.toggle();\n        });\n        ɵngcc0.ɵɵtext(2);\n        ɵngcc0.ɵɵtemplate(3, MdbAccordionItemComponent_3_Template, 1, 1, null, 2);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(4, \"div\", 3);\n        ɵngcc0.ɵɵlistener(\"collapseShow\", function MdbAccordionItemComponent_Template_div_collapseShow_4_listener() {\n          return ctx.onShow();\n        })(\"collapseHide\", function MdbAccordionItemComponent_Template_div_collapseHide_4_listener() {\n          return ctx.onHide();\n        })(\"collapseShow\", function MdbAccordionItemComponent_Template_div_collapseShow_4_listener() {\n          return ctx.onShown();\n        })(\"collapseHide\", function MdbAccordionItemComponent_Template_div_collapseHide_4_listener() {\n          return ctx.onHidden();\n        });\n        ɵngcc0.ɵɵelementStart(5, \"div\", 4);\n        ɵngcc0.ɵɵtemplate(6, MdbAccordionItemComponent_6_Template, 1, 1, null, 2);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"id\", ctx._headerId);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵclassProp(\"collapsed\", ctx._addCollapsedClass);\n        ɵngcc0.ɵɵattribute(\"aria-expanded\", !ctx._collapsed)(\"aria-controls\", ctx.id);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵtextInterpolate1(\" \", ctx.header, \" \");\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx._headerTemplate);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵattribute(\"id\", ctx.id)(\"aria-labelledby\", ctx._headerId);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx._bodyTemplate);\n      }\n    },\n    directives: [ɵngcc1.NgIf, ɵngcc1.NgTemplateOutlet, ɵngcc2.MdbCollapseDirective],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return MdbAccordionItemComponent;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\nlet MdbAccordionComponent = /*#__PURE__*/(() => {\n  class MdbAccordionComponent {\n    constructor() {\n      this._flush = false;\n      this._multiple = false;\n      this.accordion = true;\n    }\n\n    get flush() {\n      return this._flush;\n    }\n\n    set flush(value) {\n      this._flush = coerceBooleanProperty(value);\n    }\n\n    get multiple() {\n      return this._multiple;\n    }\n\n    set multiple(value) {\n      this._multiple = coerceBooleanProperty(value);\n    }\n\n    get addFlushClass() {\n      return this.flush;\n    }\n\n    ngAfterContentInit() {\n      this.items.changes.pipe(startWith(this.items), switchMap(items => {\n        return merge(...items.map(item => item.show$));\n      })).subscribe(clickedItem => this._handleMultipleItems(clickedItem));\n    }\n\n    _handleMultipleItems(clickedItem) {\n      if (!this.multiple) {\n        const itemsToClose = this.items.filter(item => item !== clickedItem && !item._collapsed);\n        itemsToClose.forEach(item => item.hide());\n      }\n    }\n\n  }\n\n  MdbAccordionComponent.ɵfac = function MdbAccordionComponent_Factory(t) {\n    return new (t || MdbAccordionComponent)();\n  };\n\n  MdbAccordionComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: MdbAccordionComponent,\n    selectors: [[\"mdb-accordion\"]],\n    contentQueries: function MdbAccordionComponent_ContentQueries(rf, ctx, dirIndex) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵcontentQuery(dirIndex, MdbAccordionItemComponent, 4);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.items = _t);\n      }\n    },\n    hostVars: 4,\n    hostBindings: function MdbAccordionComponent_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        ɵngcc0.ɵɵclassProp(\"accordion\", ctx.accordion)(\"accordion-flush\", ctx.addFlushClass);\n      }\n    },\n    inputs: {\n      flush: \"flush\",\n      multiple: \"multiple\"\n    },\n    ngContentSelectors: _c0,\n    decls: 1,\n    vars: 0,\n    template: function MdbAccordionComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵprojectionDef();\n        ɵngcc0.ɵɵprojection(0);\n      }\n    },\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return MdbAccordionComponent;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\nlet MdbAccordionModule = /*#__PURE__*/(() => {\n  class MdbAccordionModule {}\n\n  MdbAccordionModule.ɵfac = function MdbAccordionModule_Factory(t) {\n    return new (t || MdbAccordionModule)();\n  };\n\n  MdbAccordionModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n    type: MdbAccordionModule\n  });\n  MdbAccordionModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({\n    imports: [[CommonModule, MdbCollapseModule]]\n  });\n  return MdbAccordionModule;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(MdbAccordionModule, {\n    declarations: function () {\n      return [MdbAccordionComponent, MdbAccordionItemComponent, MdbAccordionItemHeaderDirective, MdbAccordionItemBodyDirective];\n    },\n    imports: function () {\n      return [CommonModule, MdbCollapseModule];\n    },\n    exports: function () {\n      return [MdbAccordionComponent, MdbAccordionItemComponent, MdbAccordionItemHeaderDirective, MdbAccordionItemBodyDirective];\n    }\n  });\n})();\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { MdbAccordionComponent, MdbAccordionItemBodyDirective, MdbAccordionItemComponent, MdbAccordionItemHeaderDirective, MdbAccordionModule, MDB_ACCORDION_ITEM_HEADER as ɵa, MDB_ACCORDION_ITEM_BODY as ɵb }; //# sourceMappingURL=mdb-angular-ui-kit-accordion.js.map","map":null,"metadata":{},"sourceType":"module"}