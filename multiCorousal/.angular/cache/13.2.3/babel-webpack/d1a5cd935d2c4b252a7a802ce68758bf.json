{"ast":null,"code":"import { Component, ChangeDetectionStrategy, ChangeDetectorRef, Input, EventEmitter, Directive, ElementRef, Output, NgModule } from '@angular/core';\nimport { OverlayConfig, Overlay, OverlayPositionBuilder, OverlayModule } from '@angular/cdk/overlay';\nimport { ComponentPortal } from '@angular/cdk/portal';\nimport { trigger, state, style, transition, animate } from '@angular/animations';\nimport { Subject, fromEvent } from 'rxjs';\nimport { takeUntil, first } from 'rxjs/operators';\nimport { CommonModule } from '@angular/common';\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/common';\nimport * as ɵngcc2 from '@angular/cdk/overlay';\n\nfunction MdbTooltipComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"div\", 2);\n    ɵngcc0.ɵɵlistener(\"@fade.done\", function MdbTooltipComponent_div_0_Template_div_animation_fade_done_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r3);\n      const ctx_r2 = ɵngcc0.ɵɵnextContext();\n      return ctx_r2.onAnimationEnd($event);\n    });\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"@fade\", ctx_r0.animationState)(\"@.disabled\", !ctx_r0.animation)(\"innerHTML\", ctx_r0.title, ɵngcc0.ɵɵsanitizeHtml);\n  }\n}\n\nfunction MdbTooltipComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"div\", 3);\n    ɵngcc0.ɵɵlistener(\"@fade.done\", function MdbTooltipComponent_div_1_Template_div_animation_fade_done_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r5);\n      const ctx_r4 = ɵngcc0.ɵɵnextContext();\n      return ctx_r4.onAnimationEnd($event);\n    });\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"@fade\", ctx_r1.animationState)(\"@.disabled\", !ctx_r1.animation);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", ctx_r1.title, \"\\n\");\n  }\n}\n\nlet MdbTooltipComponent = /*#__PURE__*/(() => {\n  class MdbTooltipComponent {\n    constructor(_cdRef) {\n      this._cdRef = _cdRef;\n      this._hidden = new Subject();\n      this.animationState = 'hidden';\n    }\n\n    markForCheck() {\n      this._cdRef.markForCheck();\n    }\n\n    onAnimationEnd(event) {\n      if (event.toState === 'hidden') {\n        this._hidden.next();\n      }\n    }\n\n  }\n\n  MdbTooltipComponent.ɵfac = function MdbTooltipComponent_Factory(t) {\n    return new (t || MdbTooltipComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef));\n  };\n\n  MdbTooltipComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: MdbTooltipComponent,\n    selectors: [[\"mdb-tooltip\"]],\n    inputs: {\n      title: \"title\",\n      html: \"html\",\n      animation: \"animation\"\n    },\n    decls: 2,\n    vars: 2,\n    consts: [[\"class\", \"tooltip-inner\", 3, \"innerHTML\", 4, \"ngIf\"], [\"class\", \"tooltip-inner\", 4, \"ngIf\"], [1, \"tooltip-inner\", 3, \"innerHTML\"], [1, \"tooltip-inner\"]],\n    template: function MdbTooltipComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵtemplate(0, MdbTooltipComponent_div_0_Template, 1, 3, \"div\", 0);\n        ɵngcc0.ɵɵtemplate(1, MdbTooltipComponent_div_1_Template, 2, 3, \"div\", 1);\n      }\n\n      if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.html);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", !ctx.html);\n      }\n    },\n    directives: [ɵngcc1.NgIf],\n    encapsulation: 2,\n    data: {\n      animation: [trigger('fade', [state('visible', style({\n        opacity: 1\n      })), state('hidden', style({\n        opacity: 0\n      })), transition('visible => hidden', animate('150ms linear')), transition(':enter', animate('150ms linear'))])]\n    },\n    changeDetection: 0\n  });\n  return MdbTooltipComponent;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})(); // eslint-disable-next-line @angular-eslint/component-class-suffix\n\n\nlet MdbTooltipDirective = /*#__PURE__*/(() => {\n  class MdbTooltipDirective {\n    constructor(_overlay, _overlayPositionBuilder, _elementRef) {\n      this._overlay = _overlay;\n      this._overlayPositionBuilder = _overlayPositionBuilder;\n      this._elementRef = _elementRef;\n      this.mdbTooltip = '';\n      this.tooltipDisabled = false;\n      this.placement = 'top';\n      this.html = false;\n      this.animation = true;\n      this.trigger = 'hover focus';\n      this.delayShow = 0;\n      this.delayHide = 0;\n      this.offset = 4;\n      this.tooltipShow = new EventEmitter();\n      this.tooltipShown = new EventEmitter();\n      this.tooltipHide = new EventEmitter();\n      this.tooltipHidden = new EventEmitter();\n      this._open = false;\n      this._showTimeout = 0;\n      this._hideTimeout = 0;\n      this._destroy$ = new Subject();\n    }\n\n    ngOnInit() {\n      if (this.tooltipDisabled) {\n        return;\n      }\n\n      this._bindTriggerEvents();\n    }\n\n    ngOnDestroy() {\n      if (this._open || this._showTimeout) {\n        this.hide();\n      }\n\n      this._destroy$.next();\n\n      this._destroy$.complete();\n    }\n\n    _bindTriggerEvents() {\n      const triggers = this.trigger.split(' ');\n      triggers.forEach(trigger => {\n        if (trigger === 'click') {\n          fromEvent(this._elementRef.nativeElement, trigger).pipe(takeUntil(this._destroy$)).subscribe(() => this.toggle());\n        } else if (trigger !== 'manual') {\n          const evIn = trigger === 'hover' ? 'mouseenter' : 'focusin';\n          const evOut = trigger === 'hover' ? 'mouseleave' : 'focusout';\n          fromEvent(this._elementRef.nativeElement, evIn).pipe(takeUntil(this._destroy$)).subscribe(() => this.show());\n          fromEvent(this._elementRef.nativeElement, evOut).pipe(takeUntil(this._destroy$)).subscribe(() => this.hide());\n        }\n      });\n    }\n\n    _createOverlayConfig() {\n      const positionStrategy = this._overlayPositionBuilder.flexibleConnectedTo(this._elementRef).withPositions(this._getPosition());\n\n      const overlayConfig = new OverlayConfig({\n        hasBackdrop: false,\n        scrollStrategy: this._overlay.scrollStrategies.reposition(),\n        positionStrategy\n      });\n      return overlayConfig;\n    }\n\n    _createOverlay() {\n      this._overlayRef = this._overlay.create(this._createOverlayConfig());\n    }\n\n    _getPosition() {\n      let position;\n      const positionTop = {\n        originX: 'center',\n        originY: 'top',\n        overlayX: 'center',\n        overlayY: 'bottom',\n        offsetY: -this.offset\n      };\n      const positionBottom = {\n        originX: 'center',\n        originY: 'bottom',\n        overlayX: 'center',\n        overlayY: 'top',\n        offsetY: this.offset\n      };\n      const positionRight = {\n        originX: 'end',\n        originY: 'center',\n        overlayX: 'start',\n        overlayY: 'center',\n        offsetX: this.offset\n      };\n      const positionLeft = {\n        originX: 'start',\n        originY: 'center',\n        overlayX: 'end',\n        overlayY: 'center',\n        offsetX: -this.offset\n      };\n\n      switch (this.placement) {\n        case 'top':\n          position = [positionTop, positionBottom];\n          break;\n\n        case 'bottom':\n          position = [positionBottom, positionTop];\n          break;\n\n        case 'left':\n          position = [positionLeft, positionRight];\n          break;\n\n        case 'right':\n          position = [positionRight, positionLeft];\n          break;\n\n        default:\n          break;\n      }\n\n      return position;\n    }\n\n    show() {\n      if (this._hideTimeout || this._open) {\n        this._overlayRef.detach();\n\n        clearTimeout(this._hideTimeout);\n        this._hideTimeout = null;\n      }\n\n      this._createOverlay();\n\n      this._showTimeout = setTimeout(() => {\n        const tooltipPortal = new ComponentPortal(MdbTooltipComponent);\n        this.tooltipShow.emit(this);\n        this._open = true;\n        this._tooltipRef = this._overlayRef.attach(tooltipPortal);\n        this._tooltipRef.instance.title = this.mdbTooltip;\n        this._tooltipRef.instance.html = this.html;\n        this._tooltipRef.instance.animation = this.animation;\n        this._tooltipRef.instance.animationState = 'visible';\n\n        this._tooltipRef.instance.markForCheck();\n\n        this.tooltipShown.emit(this);\n      }, this.delayShow);\n    }\n\n    hide() {\n      if (this._showTimeout) {\n        clearTimeout(this._showTimeout);\n        this._showTimeout = null;\n      } else {\n        return;\n      }\n\n      this._hideTimeout = setTimeout(() => {\n        this.tooltipHide.emit(this);\n\n        if (!this._tooltipRef) {\n          this._overlayRef.detach();\n\n          this._open = false;\n          this.tooltipHidden.emit(this);\n        } else {\n          this._tooltipRef.instance._hidden.pipe(first()).subscribe(() => {\n            this._overlayRef.detach();\n\n            this._open = false;\n            this.tooltipHidden.emit(this);\n          });\n\n          this._tooltipRef.instance.animationState = 'hidden';\n\n          this._tooltipRef.instance.markForCheck();\n        }\n      }, this.delayHide);\n    }\n\n    toggle() {\n      if (this._open) {\n        this.hide();\n      } else {\n        this.show();\n      }\n    }\n\n  }\n\n  MdbTooltipDirective.ɵfac = function MdbTooltipDirective_Factory(t) {\n    return new (t || MdbTooltipDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc2.Overlay), ɵngcc0.ɵɵdirectiveInject(ɵngcc2.OverlayPositionBuilder), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef));\n  };\n\n  MdbTooltipDirective.ɵdir = /*@__PURE__*/ɵngcc0.ɵɵdefineDirective({\n    type: MdbTooltipDirective,\n    selectors: [[\"\", \"mdbTooltip\", \"\"]],\n    inputs: {\n      mdbTooltip: \"mdbTooltip\",\n      tooltipDisabled: \"tooltipDisabled\",\n      placement: \"placement\",\n      html: \"html\",\n      animation: \"animation\",\n      trigger: \"trigger\",\n      delayShow: \"delayShow\",\n      delayHide: \"delayHide\",\n      offset: \"offset\"\n    },\n    outputs: {\n      tooltipShow: \"tooltipShow\",\n      tooltipShown: \"tooltipShown\",\n      tooltipHide: \"tooltipHide\",\n      tooltipHidden: \"tooltipHidden\"\n    },\n    exportAs: [\"mdbTooltip\"]\n  });\n  return MdbTooltipDirective;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\nlet MdbTooltipModule = /*#__PURE__*/(() => {\n  class MdbTooltipModule {}\n\n  MdbTooltipModule.ɵfac = function MdbTooltipModule_Factory(t) {\n    return new (t || MdbTooltipModule)();\n  };\n\n  MdbTooltipModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n    type: MdbTooltipModule\n  });\n  MdbTooltipModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({\n    imports: [[CommonModule, OverlayModule]]\n  });\n  return MdbTooltipModule;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(MdbTooltipModule, {\n    declarations: function () {\n      return [MdbTooltipDirective, MdbTooltipComponent];\n    },\n    imports: function () {\n      return [CommonModule, OverlayModule];\n    },\n    exports: function () {\n      return [MdbTooltipDirective, MdbTooltipComponent];\n    }\n  });\n})();\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { MdbTooltipDirective, MdbTooltipModule, MdbTooltipComponent as ɵa }; //# sourceMappingURL=mdb-angular-ui-kit-tooltip.js.map","map":null,"metadata":{},"sourceType":"module"}